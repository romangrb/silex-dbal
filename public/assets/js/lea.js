/*
 * Lea.JS v1.0.0
 * Lightweight Javascript Framework
 * Author: Sebastien Decamme <sebastien.decamme@gmail.com>
 * Website: http://sebastiendecamme.fr
 */
!function(a,b,c,d){"use strict";var e=function(a,b){return new f(a||d,b||d)};a.Lea=a.$=e;var f=function(c,d){return this.nodes=[],c&&(c.constructor===String?(d||(d=b),this.nodes=$.toArray(d.querySelectorAll(c),0)):c.constructor===Array?this.nodes=c:($.isNode(c)||c==a||c==b)&&(this.nodes[0]=c)),this.length=this.nodes.length,this};e.doc=/WebKit/.test(navigator.userAgent)?b.body:b.documentElement,e.toArray=function(a){return Array.prototype.slice.call(a)},e.type=function(a){return Object.prototype.toString.call(a).replace(/^\[object (.+)\]$/,"$1").toLowerCase()},e.extend=function(a,b){for(var c in b)a.hasOwnProperty(c)||(a[c]=b[c]);return a},e.each=function(a,b){for(var c in a){var d=a[c];if(!a.hasOwnProperty(d)&&b.call(a,c,d)===!1)break}return this},e.isNode=function(a){return a instanceof HTMLElement},e.setCookie=function(a,c,d){var e=new Date;e.setTime(e.getTime()+24*d*60*60*1e3);var f="expires="+e.toGMTString();b.cookie=a+"="+c+"; "+f},e.getCookie=function(a){for(var c=a+"=",d=b.cookie.split(";"),e=0;e<d.length;e++){var f=d[e].trim();if(0==f.indexOf(c))return f.substring(c.length,f.length)}return""},e.deleteCookie=function(a){b.cookie=a+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"},e.str2Nodes=function(a){var c=b.createElement("div");return c.innerHTML=a,$.toArray(c.childNodes,0)},e.rgb2Hex=function(a){if(-1==a.search("rgb"))return a;if("rgba(0, 0, 0, 0)"==a)return"transparent";a=a.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/);var b=function(a){return("0"+parseInt(a).toString(16)).slice(-2)};return"#"+b(a[1])+b(a[2])+b(a[3])},e.camelize=function(a){return"-"==a.charAt(0)&&(a=a.slice(1)),a.replace(/-\D/g,function(a){return a.charAt(1).toUpperCase()})},e.dash=function(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.charAt(0).toLowerCase()})},e.create=function(a,d){var f=$(b.createElement(a));return d!==c&&this.each(d,function(a,b){switch(a.toLowerCase()){case"styles":f.css(b);break;case"html":f.html(b);break;case"class":f.addClass(b);break;case"events":e.each(b,function(a,b){f.on(a,b)});break;default:f.attr(a,b)}}),f.get(0)},e.ready=function(a){"complete"==b.readyState?a.call(null):b.addEventListener("DOMContentLoaded",a,!1)},e.ajax=function(a,b){var c={contentType:"application/x-www-form-urlencoded",method:"GET",data:d,onComplete:d,onSuccess:d,onError:d,onStateChange:d},e=this.extend(b||{},c),f=new XMLHttpRequest;if(e.onStateChange&&(f.onreadystatechange=function(){e.onStateChange.call(this)}),f.onload=function(){var a=this.responseText||d;e.onComplete&&e.onComplete.call(this,a),this.status>=200&&this.status<400&&e.onSuccess&&e.onSuccess.call(this,a)},e.onError&&(f.onerror=function(){e.onError.call(f)}),f.open(e.method,a,!0),"POST"==e.method){if(f.setRequestHeader("Content-Type",e.contentType),e.data){var g="";$.each(e.data,function(a,b){g.length>0&&(g+="&"),g+=a+"="+encodeURIComponent(b)}),f.send(g)}}else f.send(d);return f},e.get=function(a,b,c){return $.ajax(a,{method:"GET",onSuccess:b||d,onError:c||d})},e.post=function(a,b,c,e){return $.ajax(a,{method:"POST",data:b||{},onSuccess:c||d,onError:e||d})},e.isHiDPI=function(){var b="(-webkit-min-device-pixel-ratio: 1.5),			(min--moz-device-pixel-ratio: 1.5),			(-o-min-device-pixel-ratio: 3/2),			(min-resolution: 1.5dppx)";return a.devicePixelRatio>1||a.matchMedia&&a.matchMedia(b).matches},e.isMobile=function(a){var a=a===c?d:a.toLowerCase(),b=navigator.userAgent,e={android:function(){return b.match(/Android/i)},blackberry:function(){return b.match(/BlackBerry/i)},ios:function(){return b.match(/iPhone|iPad|iPod/i)},opera:function(){return b.match(/Opera Mini/i)},windows:function(){return b.match(/IEMobile/i)},any:function(){return e.android()||e.blackberry()||e.ios()||e.opera()||e.windows()}};return a&&a in e?e[a]()?!0:!1:e.any()?!0:!1},e.fn=f.prototype={get:function(a){return a===c?this.nodes:this.length?this.nodes[a]:d},each:function(a){for(var b=0;b<this.length&&a.call(this.nodes[b],b)!==!1;b++);},on:function(a,b){return this.each(function(){this.addEventListener(a,b,!1)}),this},off:function(a,b){return this.each(function(){this.removeEventListener(a,b,!1)}),this},click:function(a){return this.on("click",a)},fire:function(a){var c=b.createEvent("HTMLEvents");return c.initEvent(a,!0,!0),this.each(function(){this.dispatchEvent(c)}),this},addClass:function(a){return this.each(function(){this.classList.add(a)}),this},removeClass:function(a){return this.each(function(){this.classList.remove(a)}),this},hasClass:function(a){var b=this.length?!0:!1;return this.nodes.forEach(function(c){return c.classList.contains(a)?void 0:void(b=!1)}),b},css:function(a,c){if(!this.length)return c?this:d;var e,f=["zIndex","opacity","zoom"];if(c==e&&"string"==$.type(a)){var g=this.nodes[0],h=a.search(/color/i)>-1,i=g.currentStyle?g.currentStyle[this.dash(a)]:b.defaultView.getComputedStyle(g,d).getPropertyValue($.dash(a));return h?i?$.rgb2Hex(i):"transparent":i}return c==e&&"object"==$.type(a)?($.each(a,function(a,b){a=$.camelize(a),"number"==typeof b&&-1==f.indexOf(a)&&(b+="px"),this.each(function(){this.style[a]=b})}.bind(this)),this):("string"==$.type(a)&&c!=e&&(a=$.camelize(a),"number"==typeof c&&-1==f.indexOf(a)&&(c+="px"),this.each(function(){this.style[a]=c})),this)},height:function(d){if(d!==c)return this.css("height",d);var e=this.nodes[0];return e===b?b.body.clientHeight:e===a?a.innerHeight:e.offsetHeight},width:function(d){if(d!==c)return this.css("width",d);var e=this.nodes[0];return e===b?b.body.clientWidth:e===a?a.innerWidth:e.offsetWidth},hide:function(){return this.each(function(){this.style.display="none"}),this},show:function(a){var b=a===c?"block":a;return this.each(function(){this.style.display=b}),this},html:function(a){return a!==c?(this.each(function(){this.innerHTML=a}),this):this.nodes[0].innerHTML},text:function(a){return a!==c?(this.each(function(){this.textContent=a}),this):this.nodes[0].textContent},empty:function(){return this.each(function(){this.innerHTML=""}),this},attr:function(a,b){return b!==c?(this.each(function(){this.setAttribute(a,b)}),this):this.nodes[0].getAttribute(a)},removeAttr:function(a){return this.each(function(){this.removeAttribute(a)}),this},data:function(a,b){return b!==c?this.attr("data-"+a,b):this.attr("data-"+a)},removeData:function(a){return this.removeAttr("data-"+a)},clone:function(){return this.nodes[0].cloneNode(!0)},append:function(a){return this.each(function(){if($.isNode(a))this.appendChild(a);else{var b=$.str2Nodes(a),c=this;b.forEach(function(a){c.appendChild(a)})}}),this},prepend:function(a){return this.each(function(){if($.isNode(a))this.insertBefore(a,this.firstChild);else{var b=$.str2Nodes(a),c=this;b.forEach(function(a){c.insertBefore(a,c.firstChild)})}}),this},before:function(a){return this.each(function(){var b=this.parentNode;if($.isNode(a))b.insertBefore(a,this);else{var c=$.str2Nodes(a),d=this;c.forEach(function(a){b.insertBefore(a,d)})}}),this},after:function(a){return this.each(function(){var b=node.parentNode;if($.isNode(a))b.insertBefore(a,this.nextSibling);else{var c=$.str2Nodes(a),d=this;c.forEach(function(a){b.insertBefore(a,d.nextSibling)})}}),this},remove:function(){return this.each(function(){this.parentNode.removeChild(this)}),this},parent:function(){var a=[];return this.each(function(){var b=this.parentNode;b&&a.push(b)}),$(a)},find:function(a){var b=[];return this.nodes.forEach(function(c){var d=$.toArray(c.querySelectorAll(a),0);d.forEach(function(a){b.push(a)})}),$(b)},prev:function(){var a=[];return this.each(function(){var b=this.previousElementSibling;b&&a.push(b)}),$(a)},next:function(){var a=[];return this.each(function(){var b=this.nextElementSibling;b&&a.push(b)}),$(a)},offset:function(){var a=this.nodes[0],b=a.getBoundingClientRect(),c=$.doc;return{top:b.top+c.scrollTop,left:b.left+c.scrollLeft}},position:function(){var a=this.nodes[0];return{left:a.offsetLeft,top:a.offsetTop}},scroll:function(){var c=this.nodes[0];return c==a||c==b?{top:a.pageYOffset||b.documentElement.scrollTop,left:a.pageXOffset||b.documentElement.scrollLeft,width:b.body.scrollWidth,height:b.body.scrollHeight}:{top:c.scrollTop,left:c.scrollLeft,width:c.scrollWidth,height:c.scrollHeight}},disable:function(){var a;return this.each(function(){for(a=this.elements.length-1;a>=0;a-=1)this.elements[a].disabled=!0}),this},enable:function(){var a;return this.each(function(){for(a=this.elements.length-1;a>=0;a-=1)this.elements[a].disabled=!1}),this},serialize:function(){var a,b,c=this.nodes[0],d={},e=function(a,b){d[a]=b};for(a=c.elements.length-1;a>=0;a-=1)if(""!==c.elements[a].name)switch(c.elements[a].nodeName.toLowerCase()){case"input":switch(c.elements[a].type){case"checkbox":case"radio":c.elements[a].checked&&e(c.elements[a].name,c.elements[a].value);break;case"file":break;default:e(c.elements[a].name,c.elements[a].value)}break;case"textarea":e(c.elements[a].name,c.elements[a].value);break;case"select":switch(c.elements[a].type){case"select-one":e(c.elements[a].name,c.elements[a].value);break;case"select-multiple":for(b=c.elements[a].options.length-1;b>=0;b-=1)c.elements[a].options[b].selected&&e(c.elements[a].name,c.elements[a].options[b].value)}break;case"button":switch(c.elements[a].type){case"reset":case"submit":case"button":e(c.elements[a].name,c.elements[a].value)}}return d},submit:function(a,b){var c=this.nodes[0],e=c.getAttribute("method").toLowerCase(),f=c.getAttribute("action"),g=this.serialize();if("get"==e){var h="";$.each(g,function(a,b){h.length>0&&(h+="&"),h+=a+"="+encodeURIComponent(b)}),$.get(f+"?"+h,a||d,b||d)}else $.post(f,g,a||d,b||d);return this},val:function(a){return a===c?this.nodes[0].value:(this.each(function(){this.value=a}),this)},shuffle:function(){return this.nodes.sort(function(){return.5-Math.random()}),this},is:function(a){var b=!0,c=function(a,b){return $.isNode(b)?a===b:(a.matches||a.matchesSelector||a.msMatchesSelector||a.webkitMatchesSelector).call(a,b)};return this.each(function(){return c(this,a)?void 0:(b=!1,!1)}),b},filter:function(a){if(a.constructor===String){var b=[];return this.each(function(){$(this).is(a)&&b.push(this)}),$(b)}var b=Array.prototype.filter.call(this.nodes,a);return $(b)}}}(window,document,void 0,null);